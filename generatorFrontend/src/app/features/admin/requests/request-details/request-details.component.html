<ng-container *ngIf="request$ | async as request; else missing">
  <section class="space-y-4">
    <a routerLink="/admin/requests" class="text-sm text-primary">← Back to requests</a>
    <header class="space-y-1">
      <h1 class="text-2xl font-semibold text-text">{{ request.applicantName }}</h1>
      <p class="text-sm text-muted">{{ request.applicantEmail }} · {{ request.applicantPhone }}</p>
      <mat-chip [color]="request.status === 'APPROVED' ? 'primary' : request.status === 'REJECTED' ? 'warn' : undefined" selected>
        {{ ('admin.requests.status.' + request.status.toLowerCase()) | t }}
      </mat-chip>
    </header>
    <dl class="grid gap-3 text-sm text-muted md:grid-cols-2">
      <div>
        <dt class="font-semibold text-text">Generator</dt>
        <dd>{{ request.generatorName }}</dd>
      </div>
      <div>
        <dt class="font-semibold text-text">Created</dt>
        <dd>{{ request.createdAt | date: 'medium' }}</dd>
      </div>
      <div *ngIf="request.notes">
        <dt class="font-semibold text-text">Notes</dt>
        <dd>{{ request.notes }}</dd>
      </div>
    </dl>
  </section>
</ng-container>

<ng-template #missing>
  <div class="rounded-soft border border-white/10 bg-surface/90 px-4 py-6 text-center text-sm text-muted">
    Request not found.
  </div>
</ng-template>
